webpackJsonp([1],{"+Px+":function(t,e){t.exports=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}]},"7zck":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s=a("3EgV"),r=a.n(s),n=(a("7zck"),{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",[a("v-navigation-drawer",{attrs:{app:"",fixed:"",value:"true",stateless:"",permanent:""}},[a("v-toolbar",{attrs:{flat:""}},[a("v-list",[a("v-list-tile",[a("v-list-tile-title",{staticClass:"title"},[t._v("\n          Popcorn Cove Subscriptions\n        ")])],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list",[a("v-list-tile",{staticClass:"menu-tile"},[a("v-list-tile-action",[a("v-icon",[t._v("fas fa-shopping-cart")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[a("router-link",{attrs:{to:"/"}},[t._v("\n            Place or Edit a Subscription\n            ")])],1)],1)],1),t._v(" "),a("v-list-tile",{staticClass:"menu-tile"},[a("v-list-tile-action",[a("v-icon",[t._v("fas fa-plus-circle")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[a("router-link",{attrs:{to:"/items"}},[t._v("\n              Add Subscription Item\n            ")])],1)],1)],1)],1),t._v(" "),a("v-tooltip",{attrs:{bottom:"","max-width":"250px"}},[a("v-btn",{staticStyle:{"margin-left":"auto","margin-right":"auto",display:"block"},attrs:{slot:"activator"},slot:"activator"},[a("v-icon",[t._v("fas fa-download")]),t._v("\n        Â  Export Monthly Report\n      ")],1),t._v(" "),a("span",[t._v("Download this month's subscription report for all customers in the database.")])],1)],1),t._v(" "),a("v-content",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1)],1)],1)},staticRenderFns:[]});var o=a("VU/8")({name:"App"},n,!1,function(t){a("in8m")},null,null).exports,l=a("/ocq"),c=a("bOdI"),d=a.n(c),u=a("6CZb"),m=a.n(u),v=a("fK0I"),p=a.n(v),b=a("gDPd"),f=a.n(b),h=a("Eoz/"),_=a.n(h),x=a("+Px+"),g={name:"order",data:function(){var t;return t={customer:{},customers:[],address:{},addresses:[],subscription:{},subscriptions:[],orderDialog:!1,stepper:1,byField:"name",byFields:["name","email","phone"],validCustomer:!1,disableCustomerForm:!1,name:"",nameRules:[function(t){return!!t||"Name is required"},function(t){return!!t&&t.length<=70||"Name must be less than 70 characters"}],email:"",emailRules:[function(t){return!!t||"Phone Number is required"},function(t){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,4})+$/.test(t)||"E-mail must be valid"}],phone:"",phoneRules:[function(t){return!!t||"Phone Number is required"},function(t){return/\(\d+\)| |-|\d+/.test(t)||"Phone Number must be valid"}],customernamefilter:function(t,e,a){var i=function(t){return null!=t?t:""},s=i(t.name),r=i(e);return s.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1},customeremailfilter:function(t,e,a){var i=function(t){return null!=t?t:""},s=i(t.email),r=i(e);return s.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1},customerphonefilter:function(t,e,a){var i=function(t){return null!=t?t:""},s=i(t.phone),r=i(e);return s.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1}},d()(t,"customeremailfilter",function(t,e,a){var i=function(t){return null!=t?t:""},s=i(t.phone),r=i(e);return s.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1}),d()(t,"street",""),d()(t,"city",""),d()(t,"state",""),d()(t,"zip",""),d()(t,"zipRules",[function(t){return!!t||"Zip Code is required"},function(t){return/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(t)||"Zip Code must be valid"}]),d()(t,"states",x),d()(t,"statefilter",function(t,e,a){var i=function(t){return null!=t?t:""},s=i(t.name),r=i(e);return s.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1}),d()(t,"addressfilter",function(t,e,a){var i=function(t){return null!=t?t:""},s=i(t.address),r=i(e);return s.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1}),d()(t,"phonefilter",function(t,e,a){var i=function(t){return null!=t?t:""},s=i(t.phone),r=i(e);return s.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1}),d()(t,"validShipping",!1),d()(t,"disableShippingForm",!0),d()(t,"valid",!1),d()(t,"disableForm",!1),d()(t,"item",{}),d()(t,"items",[]),d()(t,"startDate",""),d()(t,"stopDate",""),d()(t,"startDatemenu",!1),d()(t,"stopDatemenu",!1),d()(t,"note",""),d()(t,"subscriptionfilter",function(t,e,a){var i=function(t){return null!=t?t:""},s=i(t.phone),r=i(e);return s.toString().toLowerCase().indexOf(r.toString().toLowerCase())>-1}),t},mounted:function(){this.getAllCustomers(),this.getItems()},methods:{getAllCustomers:function(){var t=this;this.$http.get("/api/v1/customer").then(function(e){t.customers=e.data})},createCustomer:function(){var t=this;this.$refs.customerForm.validate()&&this.$http.post("/api/v1/customer",{name:this.name,phone:this.phone,email:this.email}).then(function(e){t.$toasted.show("Customer created"),t.customer=e.data,t.getAllCustomers()}).catch(function(e){t.$toasted.err("Failed to create customer"),console.log(e)})},updateCustomer:function(){var t=this;this.$refs.customerForm.validate()&&this.$http.put("/api/v1/customer/"+this.customer.id,{name:this.name,phone:this.phone,email:this.email}).then(function(e){t.$toasted.show("Customer updated"),t.customer=e.data,t.getAllCustomers()}).catch(function(e){t.$toasted.err("Failed to update customer"),console.log(e)})},getAllAddresses:function(){var t=this;this.customer&&this.customer.id&&this.$http.get("/api/v1/shippingaddress/"+this.customer.id).then(function(e){t.addresses=e.data;var a="";t.customer.preferredShippingAddress?a=t.addresses.filter(function(e){return e.id===t.customer.preferredShippingAddress})[0]:t.addresses.length>0&&(a=t.addresses[0]),t.address=a}).catch(function(t){console.log(t)})},createAddress:function(){var t=this;this.$refs.customerForm.validate()&&this.$http.post("/api/v1/shippingaddress",{customerID:this.customer.id,address:this.street,city:this.city,state:this.state,zip:this.zip}).then(function(e){t.$toasted.show("Address created"),t.address=e.data,t.getAllAddresses()}).catch(function(e){t.$toasted.err("Failed to create address"),console.log(e)})},updateAddress:function(){var t=this;this.$refs.shippingForm.validate()&&this.$http.put("/api/v1/shippingaddress/"+this.address.id,{customerID:this.customer.id,address:this.street,city:this.city,state:this.state,zip:this.zip}).then(function(e){t.$toasted.show("Address updated"),t.address=e.data,t.getAllAddresses()}).catch(function(e){t.$toasted.err("Failed to update address"),console.log(e)})},setPreferredAddress:function(){var t=this;this.$http.put("/api/v1/customer/"+this.customer.id,{name:this.customer.name,phone:this.customer.phone,email:this.customer.email,preferredShippingAddress:this.address.id}).then(function(e){t.$toasted.show("Preferred address set"),t.customer=e.data,t.$http.get("/api/v1/customer").then(function(e){t.customers=e.data})}).catch(function(e){t.$toasted.err("Failed to set preferred address"),console.log(e)})},getItems:function(){var t=this;this.$http.get("/api/v1/item").then(function(e){t.items=e.data}).catch(function(e){t.$toasted.error("Failed to fetch subscription items")})},getAllSubscriptions:function(){var t=this;this.$http.get("/api/v1/subscription/"+this.customer.id).then(function(e){t.subscriptions=e.data,t.subscriptions.length>0&&(t.subscription=t.subscriptions[0])}).catch(function(e){t.$toasted.error("Failed to fetch subscriptions")})},allowedStartDates:function(t){return m()(t)},allowedEndDates:function(t){return!f()(t,this.startDate)&&m()(t)},updateSubscription:function(){var t=this;this.$refs.subscriptionForm.validate()&&this.$http.put("/api/v1/subscription/"+this.subscription.id,{customerID:this.customer.id,itemID:this.item.id,shippingAddressID:this.address.id,startDate:this.startDate,stopDate:this.stopDate,note:this.note}).then(function(e){t.$toasted.show("Subscription updated"),t.subscription=e.data,t.getAllSubscriptions()}).catch(function(e){t.$toasted.err("Failed to update subscription"),console.log(e)})},createSubscription:function(){var t=this;this.$refs.subscriptionForm.validate()&&this.$http.post("/api/v1/subscription",{customerID:this.customer.id,itemID:this.item.id,shippingAddressID:this.address.id,startDate:this.startDate,stopDate:this.stopDate,note:this.note}).then(function(e){t.$toasted.show("Subscription created"),t.subscription=e.data,t.getAllSubscriptions()}).catch(function(e){t.$toasted.err("Failed to create subscription"),console.log(e)})}},computed:{startDateFormatted:function(){return this.startDate?_()(this.startDate,"MMMM YYYY"):""},stopDateFormatted:function(){return this.stopDate?_()(this.stopDate,"MMMM YYYY"):""}},watch:{customer:function(t){t?(this.name=t.name,this.email=t.email,this.phone=t.phone,this.disableCustomerForm=!0,this.getAllAddresses()):(this.$refs.customerForm.reset(),this.disableCustomerForm=!1)},address:function(t){t?(this.disableShippingForm=!0,this.street=t.address,this.city=t.city,this.state=t.state,this.zip=t.zip,this.getAllSubscriptions()):(this.$refs.shippingForm.reset(),this.disableShippingForm=!1)},subscription:function(t){var e=this;if(t){var a=this.items.filter(function(t){return t.id===e.subscription.itemID})[0];this.disableForm=!0,this.item=a,this.stopDate=t.stopDate,this.startDate=t.startDate,this.note=t.note}else this.$refs.subscriptionForm.reset(),this.disableForm=!1},startDate:function(){p()(this.startDate,this.stopDate)&&(this.stopDate="")}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-stepper",{model:{value:t.stepper,callback:function(e){t.stepper=e},expression:"stepper"}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{complete:t.stepper>1,step:"1"}},[t._v("\n        Choose or create a customer\n      ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{complete:t.stepper>2,step:"2"}},[t._v("\n        Create or Change a Subscription\n      ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-stepper-step",{attrs:{complete:t.stepper>3,step:"3"}},[t._v("\n        Choose a Shipping Address\n      ")])],1),t._v(" "),a("v-stepper-items",[a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",{staticStyle:{"max-width":"55em",margin:"auto"},attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h1",{staticClass:"headline mb-0"},[t._v("Choose or Create a Customer")])]),t._v(" "),a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Choose a Customer")])]),t._v(" "),a("v-flex",{attrs:{xs8:""}},["name"===t.byField?a("v-autocomplete",{attrs:{items:t.customers,"return-object":!0,"item-text":"name",label:"Customer Name",filter:t.customernamefilter,clearable:""},model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}}):t._e(),t._v(" "),"email"===t.byField?a("v-autocomplete",{attrs:{items:t.customers,"return-object":!0,"item-text":"email",label:"Customer Email",filter:t.customeremailfilter,clearable:""},model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}}):t._e(),t._v(" "),"phone"===t.byField?a("v-autocomplete",{attrs:{items:t.customers,"return-object":!0,mask:"phone","item-text":"phone",label:"Customer Phone",filter:t.customerphonefilter,clearable:""},model:{value:t.customer,callback:function(e){t.customer=e},expression:"customer"}}):t._e()],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:t.byFields,label:"Field"},model:{value:t.byField,callback:function(e){t.byField=e},expression:"byField"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-divider")],1)],1)],1),t._v(" "),a("v-form",{ref:"customerForm",model:{value:t.validCustomer,callback:function(e){t.validCustomer=e},expression:"validCustomer"}},[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",{staticClass:"pt-2"},[t._v("Customer Information")])]),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{rules:t.nameRules,label:"Name",required:"",disabled:t.disableCustomerForm},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail",required:"",disabled:t.disableCustomerForm},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{rules:t.phoneRules,label:"Phone Number",mask:"phone",required:"",disabled:t.disableCustomerForm},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),t._v(" "),a("v-flex",[t.customer?t._e():a("v-btn",{staticStyle:{float:"left"},attrs:{disabled:!t.validCustomer,color:"primary"},on:{click:function(e){t.createCustomer()}}},[t._v("Create Customer")]),t._v(" "),t.customer&&!t.disableCustomerForm?a("v-btn",{staticStyle:{float:"left"},attrs:{disabled:!t.validCustomer},on:{click:function(e){t.updateCustomer(),t.disableCustomerForm=!t.disableCustomerForm}}},[t._v("Update Customer")]):t._e(),t._v(" "),t.customer&&t.disableCustomerForm?a("v-btn",{staticStyle:{float:"left"},on:{click:function(e){t.disableCustomerForm=!t.disableCustomerForm}}},[t._v("Edit Customer")]):t._e()],1)],1)],1)],1),t._v(" "),a("v-card-actions",{staticClass:"mt-4"},[a("v-btn",{attrs:{disabled:!t.customer},nativeOn:{click:function(e){t.stepper=2}}},[t._v("Next")])],1)],1)],1),t._v(" "),a("v-stepper-content",{attrs:{step:"2"}},[t.customer?a("v-card",{staticStyle:{"max-width":"55em",margin:"auto"},attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h1",{staticClass:"headline mb-0"},[t._v("Shipping Address for "),a("em",[t._v(t._s(t.customer.name))])])]),t._v(" "),a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Choose a Shipping Address")])]),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{items:t.addresses,"return-object":!0,"item-text":"address",label:"Address",filter:t.addressfilter,clearable:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-divider")],1)],1)],1),t._v(" "),a("v-form",{ref:"shippingForm",model:{value:t.validShipping,callback:function(e){t.validShipping=e},expression:"validShipping"}},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:""}},[t.address&&t.customer.preferredShippingAddress===t.address.id?a("span",[t._v("Preferred Address")]):a("v-btn",{attrs:{disabled:!(t.address&&t.address.id)},on:{click:function(e){t.setPreferredAddress()}}},[t._v("Set as Preferred Address")])],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Street Address",rules:[function(t){return!!t||"Address is required"}],required:"",disabled:t.disableShippingForm},model:{value:t.street,callback:function(e){t.street=e},expression:"street"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{label:"City",rules:[function(t){return!!t||"City is required"}],required:"",disabled:t.disableShippingForm},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:t.states,rules:[function(t){return!!t||"Item is required"}],"item-text":"name","item-value":"name",label:"State",filter:t.statefilter,required:"",disabled:t.disableShippingForm},model:{value:t.state,callback:function(e){t.state=e},expression:"state"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{label:"Zip Code",required:"",rules:t.zipRules,disabled:t.disableShippingForm},model:{value:t.zip,callback:function(e){t.zip=e},expression:"zip"}})],1),t._v(" "),a("v-flex",[t.address?t._e():a("v-btn",{staticStyle:{float:"left"},attrs:{disabled:!t.validShipping,color:"primary"},on:{click:function(e){t.createAddress()}}},[t._v("Create Address")]),t._v(" "),t.address&&!t.disableShippingForm?a("v-btn",{staticStyle:{float:"left"},attrs:{disabled:!t.validShipping},on:{click:function(e){t.updateAddress(),t.disableShippingForm=!t.disableShippingForm}}},[t._v("Update Address")]):t._e(),t._v(" "),t.address&&t.disableShippingForm?a("v-btn",{staticStyle:{float:"left"},on:{click:function(e){t.disableShippingForm=!t.disableShippingForm}}},[t._v("Edit Address")]):t._e()],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{nativeOn:{click:function(e){t.stepper=1}}},[t._v("Previous")]),t._v(" "),a("v-btn",{attrs:{disabled:!t.address},nativeOn:{click:function(e){t.stepper=3}}},[t._v("Next")])],1)],1):t._e()],1),t._v(" "),a("v-stepper-content",{attrs:{step:"3"}},[t.item?a("v-card",{staticStyle:{"max-width":"55em",margin:"auto"},attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h1",{staticClass:"headline mb-0"},[t._v("\n            Subscription for "),a("em",[t._v(t._s(t.customer.name))])])]),t._v(" "),a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("h2",[t._v("Choose a Subscription")])]),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-autocomplete",{attrs:{items:t.subscriptions,"item-text":"id",label:"Subscription Number",filter:t.subscriptionfilter,"return-object":!0,clearable:""},model:{value:t.subscription,callback:function(e){t.subscription=e},expression:"subscription"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-divider")],1)],1)],1),t._v(" "),a("v-form",{ref:"subscriptionForm",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-autocomplete",{attrs:{items:t.items,"item-text":"name",rules:[function(t){return!!t||"Item is required"}],"return-object":!0,label:"Order Item",required:"",disabled:t.disableForm},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}})],1),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("v-menu",{ref:"startmenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.startDate,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.startDate=e}},model:{value:t.startDatemenu,callback:function(e){t.startDatemenu=e},expression:"startDatemenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Choose Start Month","prepend-icon":"event",rules:[function(t){return!!t||"Item is required"}],disabled:t.disableForm,required:"",readonly:""},slot:"activator",model:{value:t.startDateFormatted,callback:function(e){t.startDateFormatted=e},expression:"startDateFormatted"}}),t._v(" "),a("v-date-picker",{attrs:{type:"month","allowed-dates":t.allowedStartDates,scrollable:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.startDatemenu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.startmenu.save(t.startDate)}}},[t._v("OK")])],1)],1),t._v(" "),a("v-flex",{attrs:{xs5:"","offset-xs1":""}},[a("v-menu",{ref:"endmenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.stopDate,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.stopDate=e}},model:{value:t.stopDatemenu,callback:function(e){t.stopDatemenu=e},expression:"stopDatemenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Choose Ending Month","prepend-icon":"event",rules:[function(t){return!!t||"Item is required"}],disabled:t.disableForm,required:"",readonly:""},slot:"activator",model:{value:t.stopDateFormatted,callback:function(e){t.stopDateFormatted=e},expression:"stopDateFormatted"}}),t._v(" "),a("v-date-picker",{attrs:{type:"month","allowed-dates":t.allowedEndDates,scrollable:""},model:{value:t.stopDate,callback:function(e){t.stopDate=e},expression:"stopDate"}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.stopDatemenu=!1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(e){t.$refs.endmenu.save(t.stopDate)}}},[t._v("OK")])],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"Notes"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1),t._v(" "),a("v-flex",[t.subscription?t._e():a("v-btn",{staticStyle:{float:"left"},attrs:{disabled:!t.valid,color:"primary"},on:{click:function(e){t.createSubscription()}}},[t._v("Create Subscription")]),t._v(" "),t.subscription&&!t.disableForm?a("v-btn",{staticStyle:{float:"left"},attrs:{disabled:!t.valid},on:{click:function(e){t.updateSubscription(),t.disableForm=!t.disableForm}}},[t._v("Update Subscription")]):t._e(),t._v(" "),t.subscription&&t.disableForm?a("v-btn",{staticStyle:{float:"left"},on:{click:function(e){t.disableForm=!t.disableForm}}},[t._v("Edit Subscription")]):t._e()],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{nativeOn:{click:function(e){t.stepper=2}}},[t._v("Previous")]),t._v(" "),a("v-btn",{staticClass:"warning",nativeOn:{click:function(e){t.stepper=1}}},[t._v("Cancel")]),t._v(" "),a("v-btn",{nativeOn:{click:function(e){t.orderDialog=!0}}},[t._v("Preview Subscription")])],1)],1):t._e()],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{width:"300px"},model:{value:t.orderDialog,callback:function(e){t.orderDialog=e},expression:"orderDialog"}},[a("v-card",{attrs:{tile:""}},[a("v-card-text",[t._v("\n        You are about to place the following order:\n        "),t.customer?a("p",[a("b",[t._v("Customer:")]),t._v(" "+t._s(t.customer.name)),a("br"),t._v(" "),a("b",[t._v("Item:")]),t._v(" "+t._s(t.item.name)+" "),a("br"),t._v(" "),a("b",[t._v("Subscription Dates:")]),t._v(" "+t._s(t._f("formatDate")(t.startDate))+" to "+t._s(t._f("formatDate")(t.stopDate))+"\n        "),a("b",[t._v("Shipping Address:")]),t._v(" "+t._s(t.address.address)+", "+t._s(t.address.city)+", "+t._s(t.address.state)+" "+t._s(t.address.zip)+"\n        ")]):t._e()]),t._v(" "),a("v-card-actions",[a("v-btn",{on:{click:function(e){t.orderDialog=!1}}},[t._v("Close")])],1)],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")(g,C,!1,function(t){a("mPNx")},"data-v-7c147262",null).exports,D={name:"items",data:function(){return{item:"",selected:[],items:[]}},mounted:function(){this.getItems()},methods:{addItem:function(){var t=this;this.$http.post("/api/v1/item",{name:this.item}).then(function(e){t.$toasted.show("Added a new item"),t.item="",t.getItems()}).catch(function(e){t.$toasted.error("Failed to add new item")})},deleteItems:function(){this.$http.delete("/api/v1/item",selected)},getItems:function(){var t=this;this.$http.get("/api/v1/item").then(function(e){t.items=e.data}).catch(function(e){t.$toasted.error("Unable to fetch subscription items")})}}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{flat:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("h1",{staticClass:"headline mb-0"},[t._v("Add Subscription Items")])]),t._v(" "),a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs4:"","offset-xs4":""}},[a("v-text-field",{attrs:{label:"New item"},model:{value:t.item,callback:function(e){t.item=e},expression:"item"}}),t._v(" "),a("v-btn",{attrs:{disabled:0===t.item.length},on:{click:function(e){t.addItem()}}},[t._v("Add Item")])],1),t._v(" "),a("v-flex",{attrs:{xs4:"","offset-xs4":""}},[a("v-list",t._l(t.items,function(e){return a("v-list-tile",{key:e.id},[a("v-list-tile-action",[a("v-checkbox",{attrs:{value:e.id},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("\n                "+t._s(e.name)+"\n              ")])],1)],1)}),1),t._v(" "),a("v-btn",{staticClass:"error",attrs:{disabled:!t.selected.length>0},on:{click:function(e){t.deleteItems()}}},[t._v("Delete Item"),t.selected.length>1?a("span",[t._v("s")]):t._e()])],1)],1)],1)],1)},staticRenderFns:[]};var w=a("VU/8")(D,F,!1,function(t){a("QvAM")},null,null).exports;i.default.use(l.a);var k=new l.a({mode:"history",routes:[{path:"/",name:"order",component:S},{path:"/items",name:"items",component:w}]}),y=a("mtWM"),A=a.n(y),$=a("IZMb"),I=a.n($);i.default.config.productionTip=!1,i.default.use(r.a),i.default.use(I.a,{duration:3e3,iconPack:"fontawesome"}),i.default.prototype.$http=A.a,i.default.filter("formatDate",function(t){return _()(t,"MMM YYYY")}),new i.default({el:"#app",router:k,components:{App:o},template:"<App/>"})},QvAM:function(t,e){},in8m:function(t,e){},mPNx:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.85b3cd96a0597e22d5bb.js.map